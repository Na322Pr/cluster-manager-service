syntax = "proto3";

package cluster_manager_service;

option go_package = "github.com/Na322Pr/cluster-manager-service/pkg/cluster-manager-service;cluster_manager_service";

service ClusterManager {
  // Изменяет количество нод в кластере
  rpc SetNodeCount(SetNodeCountRequest) returns (SetNodeCountResponse);
  // Записывает данные ноды в текущем голосовании
  rpc SetNodeVote(SetNodeVoteRequest) returns (SetNodeVoteResponse);
}

message SetNodeCountRequest{
  int64 node_count = 1;
}

message SetNodeCountResponse{
  bool result = 1;
}

message SetNodeVoteRequest {
  string uuid = 1;
  string voted_for = 2;
  int64 log_index = 3;
}

message SetNodeVoteResponse {
  bool result = 1;
}